<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta name="darkreader-lock">
    <meta property="og:url" content="https://totallynotmeme.github.io/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="hi">
    <meta property="og:description" content="who sent you this link?">
    <!-- <meta property="og:image" content="https://example.com/example-image.jpg"> will add this later mb-->
    <meta name="theme-color" content="#66ddff">
    <title>Totally not a website</title>
    <style>
      * {
        scrollbar-width: none;
      }
      body {
        background-color: black;
        color: #6df;
        overflow-x: hidden;
        font-family: monospace;
      }
      #container {
        width: 700px;
        height: 300px;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        display: flex;
        align-items: center;
      }
      #inner {
        text-align: center;
        font-size: xx-large;
        text-shadow: #09f 0 0 20px;
        margin: auto;
      }
      #panel {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40px;
        background-color: black;
        transition: 0.2s ease-out;
      }
      #panel:hover {
        background-color: #012;
      }
      #panel_inner {
        display: flex;
        flex-direction: row;
        align-self: center;
        justify-content: center;
        padding: 10px;
      }
      #panel_inner a {
        font-size: large;
        color: #0af;
        width: 20%;
        text-align: center;
        transition: color 0.2s ease-out;
      }
      #panel_inner a:hover {
        color: #0ff;
      }
      #panel_inner span {
        font-size: large;
        color: #09f;
        text-align: center;
        padding-left: 7%;
        padding-right: 7%;
      }
      #bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        z-index: -999;
      }
      #cursor {
        position: absolute;
      }
      #you_found_me {
        position: absolute;
        left: 0;
        right: 0;
        top: 200vh;
        margin: auto;
        padding-bottom: 50px;
        text-align: center;
        font-size: x-large;
      }
      span[lang="en"] {
        display: unset;
      }
      span[lang="ru"] {
        display: none;
      }
    </style>
  </head>
  <body>
    <canvas id="bg"></canvas>
    <div id="container">
      <div id="inner">
        <h1>
          <span lang="en">Silly website</span>
          <span lang="ru">Просто сайт</span>
        </h1>
        <p>
          <span lang="en">Something will be here soon, but not now.</span>
          <span lang="ru">Скоро здесь будет что-то, но не сейчас.</span>
        </p>
      </div>
    </div>
    <div id="you_found_me">
      <a>
        <span lang="en">congrats, you scrolled down. there's nothing here. are you happy?</span>
        <span lang="ru">поздравляю, ты прокрутил вниз. тут ничего нет. ты доволен?</span>
      </a>
    </div>
    <div id="panel">
      <div id="panel_inner">
        <a href="console">
          <span lang="en">placeholder link</span>
          <span lang="ru">пустая ссылка</span>
        </a>
        <span id="splash">why do you have javascript disabled</span>
        <span id="cursor" style="display: none;">█</span>
        <a href="https://github.com/totallynotmeme">
          <span lang="en">my github account</span>
          <span lang="ru">мой акк на github</span>
        </a>
      </div>
    </div>
  <script>
    const bg = document.getElementById("bg");
    const splash = document.getElementById("splash");
    const cursor = document.getElementById("cursor");
    const userlang = new Intl.Locale(navigator.language).language;
    var visiblelang = document.querySelectorAll("[lang='en']");
    var splashes = [
        //{"en": "wow you found a secret splash text", "ru": "вау ты нашёл секретный сплеш"},
        {"en": "check out my other projects i guess", "ru": "у меня есть и другие проекты"},
        {"en": "what are you doing on my website?", "ru": "что ты забыл на моём сайте?"},
        {"en": "something will be here... someday.", "ru": "что-то здесь будет... когда нибудь."},
        {"en": "totally nothing here", "ru": "здесь точно ничего нет"},
        {"en": "this text is random, refresh the page", "ru": "этот текст меняется, обнови страницу"},
        {"en": "programming random stuff", "ru": "программирую рандомные вещи"},
        {"en": "Achievement get! How did we get here?", "ru": "Достижение получено! Невозможное Возможно"},
        {"en": "i like blue... and berries.", "ru": "мне нравится синий... и ягоды."},
        {"en": "insert funny text here", "ru": "вставьте смешной текст"},
        {"en": "written fully in notepad++", "ru": "написано полностью в блокноте++"},
    ]
    var chosen_text = splashes[Math.floor(Math.random() * splashes.length)];
    delete splashes;
    var cursor_shown = false;
    var e_blur = 0;
    var e_bright = 0;
    var prev_scroll = -1;
    var width = window.innerWidth;
    var height = window.innerHeight;
    bg.width = width;
    bg.height = height;
    splash.textContent = chosen_text[userlang] || chosen_text["en"];
    cursor.style = "margin-left: " + (chosen_text.length + 1) + "ch; padding: 0;";
    document.documentElement.scrollTop = 0;
    const ctx = bg.getContext("2d");
    function updatelang(lang) {
      const selector = document.querySelectorAll("[lang='" + lang + "']");
      if (selector.length) {
        for (var i of visiblelang) {
          i.style.display = "none";
        }
        for (var i of selector) {
          i.style.display = "unset";
        }
        visiblelang = selector;
        splash.textContent = chosen_text[lang] || chosen_text["en"];
      }
    }
    function frame(t) {
      // syncing up stuff
      if (width !== window.innerWidth) {
        width = window.innerWidth;
        bg.width = width;
      }
      if (height !== window.innerHeight) {
        height = window.innerHeight;
        bg.height = height;
      }
      // actual code
      t = t / 1000;
      if (t % 1 < 0.5) {
        if (!cursor_shown) {
          cursor_shown = true;
          cursor.style.marginLeft = (splash.textContent.length + 1) + "ch";
          cursor.style.display = "";
        }
      } else {
        if (cursor_shown) {
          cursor_shown = false;
          cursor.style.display = "none";
        }
      }
      if (prev_scroll != document.documentElement.scrollTop) {
        prev_scroll = document.documentElement.scrollTop;
        e_blur = prev_scroll / height * 50 + 10;
        e_bright = Math.max(1 - prev_scroll / height, 0);
        bg.style.filter = "blur(" + e_blur + "px) brightness(" + e_bright + ")";
      }
      if (e_bright > 0) {
        for (var x=0; x<width/128; x++) {
          for (var y=0; y<height/128; y++) {
            var col = Math.max(Math.sin(2*x - 4*y - t), 0);
            ctx.fillStyle = "rgb(0, " + col*30 + ", " + col*50 + ")";
            ctx.fillRect(x*128 + 8, y*128 + 8, 112, 112);
          }
        }
      }
      requestAnimationFrame(frame);
    }
    updatelang(userlang);
    // entering the loop
    requestAnimationFrame(frame);
  </script>
  </body>
</html>
